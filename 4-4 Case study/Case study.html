<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8"><script type="text/javascript" src="Case%20study_files/1beac94c95"></script><script src="Case%20study_files/nr-1071.js"></script><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"XA4GVl5ACwAEV1JQAA=="};window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o||n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({1:[function(t,n,e){function r(t){try{s.console&&console.log(t)}catch(n){}}var o,i=t("ee"),a=t(15),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,o.indexOf("dev")!==-1&&(s.dev=!0),o.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,n,e){r(e.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,n){return t}).join(", ")))},{}],2:[function(t,n,e){function r(t,n,e,r,s){try{p?p-=1:o(s||new UncaughtException(t,n,e),!0)}catch(f){try{i("ierr",[f,c.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,n,e){this.message=t||"Uncaught error with no additional information",this.sourceURL=n,this.line=e}function o(t,n){var e=n?null:c.now();i("err",[t,e])}var i=t("handle"),a=t(16),s=t("ee"),c=t("loader"),f=t("gos"),u=window.onerror,d=!1,l="nr@seenError",p=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(h){"stack"in h&&(t(8),t(7),"addEventListener"in window&&t(5),c.xhrWrappable&&t(9),d=!0)}s.on("fn-start",function(t,n,e){d&&(p+=1)}),s.on("fn-err",function(t,n,e){d&&!e[l]&&(f(e,l,function(){return!0}),this.thrown=!0,o(e))}),s.on("fn-end",function(){d&&!this.thrown&&p>0&&(p-=1)}),s.on("internal-error",function(t){i("ierr",[t,c.now(),!0])})},{}],3:[function(t,n,e){t("loader").features.ins=!0},{}],4:[function(t,n,e){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),s=t(7),c="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,w="fn"+h,v="bstTimer",y="pushState",g=t("loader");g.features.stn=!0,t(6);var b=NREUM.o.EV;o.on(m,function(t,n){var e=t[0];e instanceof b&&(this.bstStart=g.now())}),o.on(w,function(t,n){var e=t[0];e instanceof b&&i("bst",[e,n,this.bstStart,g.now()])}),a.on(m,function(t,n,e){this.bstStart=g.now(),this.bstType=e}),a.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),this.bstType])}),s.on(m,function(){this.bstStart=g.now()}),s.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=g.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+c]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+c]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,n,e){function r(t){for(var n=t;n&&!n.hasOwnProperty(u);)n=Object.getPrototypeOf(n);n&&o(n)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,n){return t[1]}var a=t("ee").get("events"),s=t(18)(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";n.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,n){var e=t[1],r=c(e,"nr@wrapped",function(){function t(){if("function"==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var n={object:t,"function":e}[typeof e];return n?s(n,"fn-",null,n.name||"anonymous"):e});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,n,e){var r=t("ee").get("history"),o=t(18)(r);n.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,n,e){var r=t("ee").get("raf"),o=t(18)(r),i="equestAnimationFrame";n.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,n,e){function r(t,n,e){t[0]=a(t[0],"fn-",null,e)}function o(t,n,e){this.method=e,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,e)}var i=t("ee").get("timer"),a=t(18)(i),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";n.exports=i,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(c+u,r),i.on(s+u,o)},{}],9:[function(t,n,e){function r(t,n){d.inPlace(n,["onreadystatechange"],"fn-",s)}function o(){var t=this,n=u.context(t);t.readyState>3&&!n.resolved&&(n.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",s)}function i(t){g.push(t),h&&(x?x.then(a):w?w(a):(E=-E,O.data=E))}function a(){for(var t=0;t<g.length;t++)r([],g[t]);g.length&&(g=[])}function s(t,n){return n}function c(t,n){for(var e in t)n[e]=t[e];return n}t(5);var f=t("ee"),u=f.get("xhr"),d=t(18)(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,w=l.SI,v="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],g=[];n.exports=u;var b=window.XMLHttpRequest=function(t){var n=new p(t);try{u.emit("new-xhr",[n],n),n.addEventListener(v,o,!1)}catch(e){try{u.emit("internal-error",[e])}catch(r){}}return n};if(c(p,b),b.prototype=p.prototype,d.inPlace(b.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,n){r(t,n),i(n)}),u.on("open-xhr-start",r),h){var x=m&&m.resolve();if(!w&&!m){var E=1,O=document.createTextNode(E);new h(a).observe(O,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===v||a()})},{}],10:[function(t,n,e){function r(t){var n=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!n.aborted){if(e.duration=a.now()-this.startTime,4===t.readyState){n.status=t.status;var i=o(t,this.lastSize);if(i&&(e.rxSize=i),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;e.cbTime=this.cbTime,f.emit("xhr-done",[t],t),s("xhr",[n,e,this.startTime])}}}function o(t,n){var e=t.responseType;if("json"===e&&null!==n)return n;var r="arraybuffer"===e||"blob"===e||"json"===e?t.response:t.responseText;return h(r)}function i(t,n){var e=c(n),r=t.params;r.host=e.hostname+":"+e.port,r.pathname=e.pathname,t.sameOrigin=e.sameOrigin}var a=t("loader");if(a.xhrWrappable){var s=t("handle"),c=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){n.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,n){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,n){var e=this.metrics,r=t[0],o=this;if(e&&r){var i=h(r);i&&(e.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof n.onload))&&o.end(n)}catch(e){try{f.emit("internal-error",[e])}catch(r){}}};for(var s=0;s<d;s++)n.addEventListener(u[s],this.listener,!1)}),f.on("xhr-cb-time",function(t,n,e){this.cbTime+=t,n?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof e.onload||this.end(e)}),f.on("xhr-load-added",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&!this.xhrGuids[e]&&(this.xhrGuids[e]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&this.xhrGuids[e]&&(delete this.xhrGuids[e],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],n)}),f.on("removeEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],n)}),f.on("fn-start",function(t,n,e){n instanceof m&&("onload"===e&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,n){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,n],n)})}},{}],11:[function(t,n,e){n.exports=function(t){var n=document.createElement("a"),e=window.location,r={};n.href=t,r.port=n.port;var o=n.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=n.hostname||e.hostname,r.pathname=n.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!n.protocol||":"===n.protocol||n.protocol===e.protocol,a=n.hostname===document.domain&&n.port===e.port;return r.sameOrigin=i&&(!n.hostname||a),r}},{}],12:[function(t,n,e){function r(){}function o(t,n,e){return function(){return i(t,[f.now()].concat(s(arguments)),n?null:this,e),n?void 0:this}}var i=t("handle"),a=t(15),s=t(16),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",p=l+"ixn-";a(d,function(t,n){u[n]=o(l+n,!0,"api")}),u.addPageAction=o(l+"addPageAction",!0),u.setCurrentRouteName=o(l+"routeName",!0),n.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,n){var e={},r=this,o="function"==typeof n;return i(p+"tracer",[f.now(),t,e],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],e),o)try{return n.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],e),t}finally{c.emit("fn-end",[f.now()],e)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,n){h[n]=o(p+n)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],13:[function(t,n,e){n.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(n){return}}}},{}],14:[function(t,n,e){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),n.exports=r},{}],15:[function(t,n,e){function r(t,n){var e=[],r="",i=0;for(r in t)o.call(t,r)&&(e[i]=n(r,t[r]),i+=1);return e}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],16:[function(t,n,e){function r(t,n,e){n||(n=0),"undefined"==typeof e&&(e=t?t.length:0);for(var r=-1,o=e-n||0,i=Array(o<0?0:o);++r<o;)i[r]=t[n+r];return i}n.exports=r},{}],17:[function(t,n,e){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],18:[function(t,n,e){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(16),a="nr@original",s=Object.prototype.hasOwnProperty,c=!1;n.exports=function(t,n){function e(t,n,e,o){function nrWrapper(){var r,a,s,c;try{a=this,r=i(arguments),s="function"==typeof e?e(r,a):e||{}}catch(f){l([f,"",[r,a,o],s])}u(n+"start",[r,a,o],s);try{return c=t.apply(a,r)}catch(d){throw u(n+"err",[r,a,d],s),d}finally{u(n+"end",[r,a,c],s)}}return r(t)?t:(n||(n=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,n,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<n.length;c++)s=n[c],a=t[s],r(a)||(t[s]=e(a,f?s+o:o,i,s))}function u(e,r,o){if(!c||n){var i=c;c=!0;try{t.emit(e,r,o,n)}catch(a){l([a,e,r,o])}c=i}}function d(t,n){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(t);return e.forEach(function(e){Object.defineProperty(n,e,{get:function(){return t[e]},set:function(n){return t[e]=n,n}})}),n}catch(r){l([r])}for(var o in t)s.call(t,o)&&(n[o]=t[o]);return n}function l(n){try{t.emit("internal-error",n)}catch(e){}}return t||(t=o),e.inPlace=f,e.flag=a,e}},{}],ee:[function(t,n,e){function r(){}function o(t){function n(t){return t&&t instanceof r?t:t?c(t,s,i):i()}function e(e,r,o,i){if(!l.aborted||i){t&&t(e,r,o);for(var a=n(o),s=h(e),c=s.length,f=0;f<c;f++)s[f].apply(a,r);var d=u[y[e]];return d&&d.push([g,e,r,a]),a}}function p(t,n){v[t]=h(t).concat(n)}function h(t){return v[t]||[]}function m(t){return d[t]=d[t]||o(e)}function w(t,n){f(t,function(t,e){n=n||"feature",y[e]=n,n in u||(u[n]=[])})}var v={},y={},g={on:p,emit:e,get:m,listeners:h,context:n,buffer:w,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var s="nr@context",c=t("gos"),f=t(15),u={},d={},l=n.exports=o();l.backlog=u},{}],gos:[function(t,n,e){function r(t,n,e){if(o.call(t,n))return t[n];var r=e();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(t,n,e){function r(t,n,e,r){o.buffer([t],r),o.emit(t,n,e)}var o=t("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(t,n,e){function r(t){var n=typeof t;return!t||"object"!==n&&"function"!==n?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");n.exports=r},{}],loader:[function(t,n,e){function r(){if(!x++){var t=b.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&n))return u.abort();f(y,function(n,e){t[n]||(t[n]=e)}),c("mark",["onload",a()+b.offset],null,"api");var e=l.createElement("script");e.src="https://"+t.agent,n.parentNode.insertBefore(e,n)}}function o(){"complete"===l.readyState&&i()}function i(){c("mark",["domContent",a()+b.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(s=Math.max((new Date).getTime(),s))-b.offset}var s=(new Date).getTime(),c=t("handle"),f=t(15),u=t("ee"),d=window,l=d.document,p="addEventListener",h="attachEvent",m=d.XMLHttpRequest,w=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},g=m&&w&&w[p]&&!/CriOS/.test(navigator.userAgent),b=n.exports={offset:s,now:a,origin:v,features:{},xhrWrappable:g};t(12),l[p]?(l[p]("DOMContentLoaded",i,!1),d[p]("load",r,!1)):(l[h]("onreadystatechange",o),d[h]("onload",r)),c("mark",["firstbyte",s],null,"api");var x=0,E=t(17)},{}]},{},["loader",2,10,4,3]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":1,"licenseKey":"1beac94c95","agent":"","transactionName":"NQQGYUZWDUNSVUMPWQxOIkBaVBdZXFgYCUYHDwFRTBkAX0FTGQJcAw8DWlVHE0MdVVgIQgcPEEZRRRVVQRhaD1IGDQFCVUUGCmBCVhJfASILW0BSDURgU0UQUxBPFEdbVAZDQGlFA0cXBBdB","atts":"GUMRFw5MQVNcWEMDWBYSAUdCUhEeUFdUDlMDAwhQFg0XQkZTG0RVDQ8QUFpDEFVBQFIUGAEOCkFRWRdvX1NZRAxTWFEDABtBU1xYQwNYFhIBR0JSER5DV0MOFFhDUBsFaApeQEJFE1UWCAtba1oCXkZXW0heFgwIFxgVAF9dQlIIQhEEFkNRRU1TXFhDA1gWPhBMRFJBChFCUh5CTQkQWFgVTxJQWVkSUwwVF1BGQQZCHVBFCVs9AgBbFg0FUV9FUkoUAQ4RR0dSPFlXFA1EVQ0UFkZRGhUBCXt+Mk4yMysecGQbGwFiBVYHWkNIF1tFBBIJFHovYhoxNnoWG0FTXFhDA1gWEgFHQlIRHl9ZVA1TBkNeU1VbEFVOSw==","applicationID":"3343327","errorBeacon":"bam.nr-data.net","applicationTime":18}</script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4.1</title>
  <link rel="stylesheet" href="Case%20study_files/style.css">
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="case-study-4.1---movies">Case Study 4.1 - Movies</h1>
<p><img src="Case%20study_files/Ngzqv87.png" alt=""></p>
<h2 id="helpful-links">Helpful Links</h2>
<ul>
<li><a href="https://mitxpro.mit.edu/courses/course-v1:MITxPRO+DSx+2T2018/courseware/6a88a9fc4a28405a918d75e19b1b0247/39a46ef2ca2449398108da49313a5bfd">MITx Case Study Page</a></li>
<li><a href="https://mitxpro.mit.edu/courses/course-v1:MITxPRO+DSx+2T2018/discussion/forum/">Discussion Forum</a></li>
<li><a href="https://courses.edx.org/asset-v1:MITxPRO+DSx+2T2018+type@asset+block@4_1_Rubric.pdf">Case Study Evaluation Rubric</a></li>
<li><a href="#faq">Frequently Asked Questions</a></li>
</ul>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#logistics">Logistics</a></li>
<li><a href="#setup">Setup</a></li>
</ul>
</li>
<li><a href="#during">During</a>
<ul>
<li><a href="#import">Import</a></li>
<li><a href="#data">Data</a></li>
<li><a href="#cross-validation">Cross Validation</a></li>
<li><a href="#model-1-random">Model 1: Random</a></li>
<li><a href="#model-2-user-based-collaborative-filtering">Model 2: User-Based Collaborative Filtering</a></li>
<li><a href="#model-3-item-based-collaborative-filtering">Model 3: Item-Based Collaborative Filtering</a></li>
<li><a href="#model-4-matrix-factorization">Model 4: Matrix Factorization</a></li>
<li><a href="#rmse-analysis">RMSE Analysis</a></li>
<li><a href="#precision-and-recall--k">Precision and Recall @ <code>k</code></a></li>
<li><a href="#top-n-predictions">Top-<code>n</code> Predictions</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a>
<ul>
<li><a href="#submitting">Submitting</a></li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>The purpose of this document is to show you how to complete the first
 graded case study of the course. The goal of this case study is to <strong>experiment with various recommendation models for predicting user preferences for movies.</strong></p>
<p><span id="objectives"></span>You will gain practical experience in:</p>
<ul>
<li><strong>loading</strong> a large dataset</li>
<li><strong>creating</strong> various models</li>
<li><strong>evaluating</strong> the predictions of those models</li>
<li><strong>utilizing</strong> tools like <a href="https://en.wikipedia.org/wiki/Cross-validation_(statistics)">cross validation</a> to train and test models</li>
<li><strong>understanding</strong> metrics like <a href="https://en.wikipedia.org/wiki/Root-mean-square_deviation">RMSE</a>, <a href="https://medium.com/@m_n_malaeb/recall-and-precision-at-k-for-recommender-systems-618483226c54">precision and recall <code>@k</code></a> and top <code>n</code> recommendations</li>
</ul>
<h3 id="logistics">Logistics</h3>
<p>Here is how this case study will work.</p>
<p>You can follow along with the instructions in this document. They 
correspond to the code provided and activity template you will fill out 
to complete the case study. We have blank sections in the code where you
 can write your responses to our questions. These sections will be 
marked <strong>RED</strong> so you won’t miss them. Some responses will 
include code, while others will not. We do our best to make this clear 
where needed.</p>
<p>Once you complete the case study, you will <a href="#submitting">submit your work</a>
 to the online MITx platform. From there, the system will assign you 2 
peers to review. You will grade their submissions according to the 
provided <a href="https://courses.edx.org/asset-v1:MITxPRO+DSx+2T2018+type@asset+block@4_1_Rubric.pdf">evaluation rubric</a>. <strong>We recommend you check out this rubric now, so you know how you will be graded.</strong></p>
<p><span id="dates"></span>Here are the key dates for this case study:</p>
<ol>
<li><strong>By 23:59 UTC, Sunday, June 10, 2018.</strong> Submit your case study to MITx. Be sure to <a href="https://www.google.com/search?q=utc+to+local+time">convert to your local time zone</a>.</li>
<li><strong>By 23:59 UTC, Monday, June 11, 2018.</strong> Complete the peer reviews for 2 of your peers. (If the system does not give you 2 reviews, see the <a href="#next-steps"><em><strong>Next Steps</strong></em></a> section below for what to do. But, it is critical you complete any reviews you are assigned.)</li>
</ol>
<h3 id="setup">Setup</h3>
<p>Follow these steps to get set up with the code and submission template for the case study.</p>
<ol>
<li>
<p>If you have not already done so, follow the instructions for <a href="https://courses.edx.org/asset-v1:MITxPRO+DSx+2T2018+type@asset+block@azure.html">getting started with Microsoft Azure Notebooks</a>. You will need to create and confirm your account there before proceeding to step 2.</p>
</li>
<li>
<p><strong>Clone</strong> the case study library, which can be found <a href="https://notebooks.azure.com/dsx-mitxpro/libraries/dsx-cs4">here</a>. Go to that page and click the <em>Clone</em> button to copy the code to your personal library. The dialog should look something like this:<br>
<img src="Case%20study_files/WUegXr2.png" alt="Clone library."></p>
</li>
<li>
<p><strong>Select your language.</strong> We support <strong>both</strong>
 Python and R in this case study. The remainder of this document will 
provide instructions for both languages, in the following format:</p>

<table>
<thead>
<tr>
<th>Python</th>
<th>R</th>
</tr>
</thead>
<tbody>
<tr>
<td>Some python information here…</td>
<td>Some R information here…</td>
</tr>
</tbody>
</table></li>
<li>
<p><strong>Select your experience level.</strong> We have support for both <em>beginner</em> and <em>advanced</em>
 users of Python and R in this case study. Use the following chart to 
see the name of the notebook you should use, based on your experience 
level.</p>

<table>
<thead>
<tr>
<th>Proficiency</th>
<th>Python</th>
<th>R</th>
</tr>
</thead>
<tbody>
<tr>
<td>Beginner</td>
<td><code>beginner_python.ipynb</code></td>
<td><code>beginner_r.ipynb</code></td>
</tr>
<tr>
<td>Advanced</td>
<td><code>advanced_python.ipynb</code></td>
<td><code>advanced_r.ipynb</code></td>
</tr>
</tbody>
</table></li>
<li>
<p>Open the notebook file you selected from the table above. This will 
start up the Jupyter notebook. If you need a refresher on how to work 
with a notebook, we have information for you <a href="https://courses.edx.org/asset-v1:MITxPRO+DSx+2T2018+type@asset+block@azure.html#using-a-notebook">here</a>.</p>
</li>
<li>
<p>As described above, this notebook file will be the template you use 
to record your answers. So, before you do anything else, be sure to fill
 in the information in the <em><strong>Identification Information</strong></em> section at the top of the notebook.</p>
</li>
<li>
<p>Next, go to the <em><strong>Setup</strong></em> section and follow the instructions. This will <strong>install</strong> all the packages you need to complete the remainder of the case study.</p>
</li>
</ol>
<h2 id="during">During</h2>
<p>Great! Now, you should be all set up and ready to complete this case 
study. As stated above, we are going to be using a recommendation system
 to predict movies for users, based on an existing dataset. This 
document will walk you through how to work with this data and framework 
to arrive at some meaningful results!</p>
<p><strong>Remember our tip from our first Microsoft Azure Notebooks tutorial: <a href="https://courses.edx.org/asset-v1:MITxPRO+DSx+2T2018+type@asset+block@azure.html#saving"><em>save your notebook often</em></a> to avoid losing your work!</strong></p>
<h3 id="import">Import</h3>
<p>One of the first steps in any data science task is importing the necessary tools you will use.</p>
<p>See the <em><strong>Import</strong></em> section of your notebook and
 follow the instructions to import the required tools. See the table 
below for these requirements, for your reference.</p>

<table>
<thead>
<tr>
<th>Python</th>
<th>R</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://surpriselib.com/"><code>surprise</code></a></td>
<td><a href="https://www.rdocumentation.org/packages/recommenderlab/"><code>recommenderlab</code></a></td>
</tr>
</tbody>
</table><h3 id="data">Data</h3>
<p>See the <em><strong>Data</strong></em> section of your notebook and follow the instructions to load the MovieLens data. You can read more about this dataset <a href="https://grouplens.org/datasets/movielens/">here</a>, if you are interested.</p>
<h3 id="cross-validation">Cross Validation</h3>
<p><strong>Note: cross validation is currently only supported in the 
Python code. The R code uses a simple train-test split. If you are using
 R, you can skip ahead to the <em>Model 1: Random</em> section below.</strong></p>
<p>We will be using cross validation a lot in this code in the training 
and evaluation of our models. This strategy builds upon the idea of a <strong>train-test</strong> split, which you should already be familiar with.</p>
<p>Instead of doing 1 data split, though, we will do several of them. Each split of the data is called a <em><strong>fold</strong></em>. We let <code>k</code> denote the number of folds we use. <code>k=5</code> is a common number to use.</p>
<p>This image provides a visual explanation of how cross validation works.</p>
<p><img src="Case%20study_files/K-fold_cross_validation_EN.jpg" alt="Cross validation image."></p>
<h3 id="model-1-random">Model 1: Random</h3>
<p>We want to first get a baseline value for our model. What better way to do that than with a <em>random</em>
 algorithm! Essentially, this first algorithm is not personalized to the
 desires of any users - we just assign them movie ratings based on the 
initial distribution of the data.</p>
<p>See the <em><strong>Model 1: Random</strong></em> section of your notebook and follow the instructions to create a new model, train it on the data and evaluate the RMSE.</p>
<h3 id="model-2-user-based-collaborative-filtering">Model 2: User-Based Collaborative Filtering</h3>
<p>Surely, we can do much better than guessing the movie ratings 
randomly! Our next model will use the user-user defined notion of 
similarity to implement collaborative filtering.</p>
<p>See the <em><strong>Model 2: User-Based Collaborative Filtering</strong></em> section of your notebook and follow the instructions to create a new model, train it on the data and evaluate the RMSE.</p>
<h3 id="model-3-item-based-collaborative-filtering">Model 3: Item-Based Collaborative Filtering</h3>
<p>Our next model will use the item-item defined notion of similarity to once again implement collaborative filtering.</p>
<p>See the <em><strong>Model 3: Item-Based Collaborative Filtering</strong></em> section of your notebook and follow the instructions to create a new model, train it on the data and evaluate the RMSE.</p>
<h3 id="model-4-matrix-factorization">Model 4: Matrix Factorization</h3>
<p>Our final model for this case study will use the matrix factorization approach with the <a href="https://blog.statsbot.co/singular-value-decomposition-tutorial-52c695315254">SVD algorithm</a>
 to try to predict user’s movie ratings. Here, we try to determine some 
underlying mathematical structure in the user rating matrix, which can 
help us predict missing ratings in the future.</p>
<p>See the <em><strong>Model 4: Matrix Factorization</strong></em> section of your notebook and follow the instructions to create a new model, train it on the data and evaluate the RMSE.</p>
<h3 id="precision-and-recall--k">Precision and Recall @ <code>k</code></h3>
<p>RMSE is not the only metric we can use here. We can also examine two fundamental measures, <a href="https://en.wikipedia.org/wiki/Precision_and_recall">precision and recall</a>. We also add a parameter <code>k</code> which is helpful in understanding problems with multiple rating outputs.</p>
<p>See the <em><strong>Precision and Recall @ <code>k</code></strong></em> section of your notebook and follow the instructions to compute various precision/recall values at various values of <code>k</code>.</p>
<h3 id="top-n-predictions">Top-<code>n</code> Predictions</h3>
<p>Finally, we want to actually see what ratings the model predicts for 
our users. We can vary the amount of top movies we see per user by 
varying the value of <code>n</code>.</p>
<p>See the <em><strong>Top-<code>n</code> Predictions</strong></em> section of your notebook and follow the instructions to compute rating predictions for some users.</p>
<h2 id="conclusion">Conclusion</h2>
<p>We really hope you enjoyed completing this case study and feel more comfortable about some of the learning objectives listed <a href="#objectives">above</a>.</p>
<p>There are just a few more things you need to know before you are done.</p>
<h3 id="submitting">Submitting</h3>
<p>Follow these instructions to submit your responses to the MITx platform.</p>
<ol>
<li>
<p><span id="export"></span><strong>Export your work.</strong> In your notebook file on Microsoft Azure Notebooks, go to <em>File &gt; Download As</em> then select <strong>HTML</strong>.</p>
<p><img src="Case%20study_files/n3nCUaB.png" alt="Download button."></p>
</li>
<li>
<p><span id="convert"></span><strong>Convert your file to a PDF.</strong> You can use <a href="http://html2pdf.com/">this tool</a> to do this. The MITx platform doesn’t allow HTML uploads, so we must take this in-between step.</p>
</li>
<li>
<p><span id="name"></span><strong>Name your file correctly.</strong> We ask that you name your file in the following format:</p>
<p><code>41_LastName_FirstName_mitxprousername.pdf</code></p>
<p>For example, if you are Bob Smith and your MITx <strong>username</strong> is bobs123, then you should save your file with this name:</p>
<p><code>41_Smith_Bob_bobs123.pdf</code></p>
<p>This makes it easier for other students <strong>and</strong> course TA’s to identify your work and make sure you receive as much credit as possible.</p>
</li>
<li>
<p><span id="upload"></span><strong>Upload your file.</strong> Go to the Case Study page (see Helpful Links above), then click the <em>right tab</em>. You should see a page that looks like this:</p>
<p><img src="Case%20study_files/u6FCVDn.png" alt="Submit."></p>
<ul>
<li>You can leave the <em>Your Response</em> field blank.</li>
<li>Click the <em>Choose Files</em> button and select the file from your computer. This is the file you named properly in step 2 above.</li>
<li>In the “Describe” text box, enter a description that exactly matches the <strong>name of your file</strong> (i.e. <code>41_Smith_Bob_bobs123.pdf</code>).</li>
<li>Click the <em>Save your progress</em> button.</li>
<li>Then, click the <em>Upload Files</em> button. If you have any issues with this, fill out the <em>Issue Submission</em> form at the bottom of the page.</li>
<li>You can <strong>re-upload as many times as you wish</strong> before you submit. See the next bullet on how to submit.</li>
<li>Once you are confident with the last file you have uploaded, press the blue button that says <em>Submit your response and move on to the next step</em>. If you have any issues with this, fill out the <em>Issue Submission</em> form at the bottom of the page.</li>
</ul>
</li>
</ol>
<h3 id="next-steps">Next Steps</h3>
<p>Remember - after you submit your own work, be prepared for the system to assign you peers to review.</p>
<p><span id="peers"></span>If the system does not give you any peers to 
review right away, we ask that you check back to the site again to see 
if you have any new reviews. It may take a few hours for a new review to
 come in.</p>
<h3 id="faq">FAQ</h3>
<p>Here are some questions we see from students often and our answers to those questions. This list is subject to change.</p>
<hr>
<p><span id="red"></span>Q: <strong>I see a bunch of red text when I run the R code, like when I try to import the <code>recommenderlab</code> package. Does this mean my code is broken?</strong></p>
<p>A: No, this is normal! These are just warning messages from R about the installation. As long as you can complete the <em><strong>Import</strong></em> section, then you are good to go!</p>
<hr>
<p>Q: <strong>I can’t get my code to work. I keep getting a package error or some other error I don’t know how to solve. What do I do?</strong></p>
<p>A: See the <a href="#troubleshooting">troubleshooting</a> section below for help.</p>
<hr>
<p><span id="numbers"></span>Q: <strong>The numbers I am getting on the case study vary slightly from the ones other people are getting. Is this normal?</strong></p>
<p>A: Yes, this is completely normal! This has to do with the way is 
randomly split, or the way the model trains based on the data. As long 
as your numbers are reasonably close to the values of others, you should
 be all set.</p>
<p>Also, please note that the R and Python values may vary in comparison
 to one another, due to the specific algorithms that each language uses.
 This is also completely acceptable, as long as you have code and 
results to support your results.</p>
<hr>
<p><span id="histogram"></span>Q: <strong>The histogram image isn’t showing up in my R notebook when I generate the HTML output. What’s going on?</strong></p>
<p>A: This is an issue with Microsoft Azure Notebooks, not you. Don’t worry. We have added language in the <a href="https://courses.edx.org/asset-v1:MITxPRO+DSx+2T2018+type@asset+block@4_1_Rubric.pdf">evaluation rubric</a> to still give you full credit for this.</p>
<hr>
<p><span id="extensions"></span>Q: <strong>It’s getting really close to 
the submission deadline and I am struggling to make process on the 
assignment. Can I get an extension? What should I do?</strong></p>
<p>A: Unfortunately, due to the nature of the course, it is our official policy that <a href="https://mitxpro.mit.edu/courses/course-v1:MITxPRO+DSx+2T2018/3cfd9c052de34f22b1a40afb96dba526/#schedule"><strong>no extensions will be granted</strong></a> on graded assignments.</p>
<p>However, we encourage you to <a href="#submitting">submit</a> what you have so far. Then, if you are concerned about your grade, you can <a href="https://mitxpro.mit.edu/courses/course-v1:MITxPRO+DSx+2T2018/courseware/f17faf99232e4d928eaba90b45415fdc/b745f984f4d044d8920128a08cf55ed3">contact us privately</a>.</p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>Having trouble getting your code to run? Questions about a particular
 part of the case study? Not able to submit your assignment to MITx? 
Your course TA’s are here to help!</p>
<p>Please follow these steps if you get stuck.</p>
<ol>
<li>
<p>Make sure you followed all of the instructions exactly as specified.</p>
</li>
<li>
<p><span id="search"></span><strong>Search</strong> the <a href="https://mitxpro.mit.edu/courses/course-v1:MITxPRO+DSx+2T2018/discussion/forum/">Discussion Forum</a> to see if your question has already been answered.</p>
</li>
<li>
<p>Please post in the <strong>Module 4: Case Studies</strong> section of the Discussion Forum and your (<em>new, unanswered</em>) question will be answered as soon as possible!</p>
</li>
</ol>
<hr>
<p><img src="Case%20study_files/Ngzqv87.png" alt=""></p>
</div>



</body></html>